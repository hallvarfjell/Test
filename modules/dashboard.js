const Dashboard={ render(el,st){ el.innerHTML=''; const list=document.createElement('div'); list.style.display='grid'; list.style.gridTemplateColumns='1fr 1fr'; list.style.gap='.5rem'; function describe(w){ for(const b of (w.blocks||[])){ if(b.kind==='Intervall') return `â€“ ${b.reps}Ã—${(b.work/60).toFixed(0)} min / ${b.rest}s`; if(b.kind==='Serie') return `â€“ ${b.series}Ã— (${b.reps}Ã—${b.work}/${b.rest})`; if(b.kind==='Fartlek') return `â€“ ${b.reps? b.reps+'Ã—':''}${b.on}/${b.off}s`; } return ''; } (st.workouts||[]).forEach((w,idx)=>{ const row=UI.h('div',{class:'list-item'}); const left=UI.h('div',{}, `${w.name} `, UI.h('span',{class:'small'}, describe(w))); const btns=UI.h('div',{class:'controls'}, UI.h('button',{class:'btn',onclick:()=>{ st.plan=w; location.hash='#/workout'; }},'â–¶'), UI.h('button',{class:'btn',onclick:()=>{ st.plan=JSON.parse(JSON.stringify(w)); location.hash='#/editor'; }},'âœŽ'), UI.h('button',{class:'btn danger',onclick:()=>{ if(confirm('Slette Ã¸kta?')){ const arr=(st.workouts||[]); arr.splice(idx,1); st.workouts=arr; Storage.saveP(AppState.currentProfile,'workouts',arr); Dashboard.render(el,st);} }},'ðŸ—‘')); row.append(left,btns); list.appendChild(row); }); const add=UI.h('button',{class:'btn primary',onclick:()=>{ st.plan={id:'w_'+Date.now(), name:'Ny Ã¸kt', blocks:[]}; location.hash='#/editor'; }},'Ny Ã¸kt'); el.append(list, add); }};
