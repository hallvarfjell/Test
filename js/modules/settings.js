
import { Store } from '../store.js';
import { $, toast } from '../helpers.js';
export function renderSettings(){ const s=Store.data.settings, ui=Store.data.ui; const host=document.getElementById('app'); host.innerHTML=`<section class='panel'><h3>Innstillinger</h3><div class='flex' style='flex-wrap:wrap;gap:1rem'><label>Alder <input id='age' type='number' class='input' value='${s.age}'></label><label>Vekt (kg) <input id='weight' type='number' class='input' value='${s.weight}'></label><label>VO₂max <input id='vo2' type='number' class='input' value='${s.vo2max}'></label><label>Maks puls <input id='hrMax' type='number' class='input' value='${s.hrMax}'></label><label>LT1 (puls) <input id='lt1i' type='number' class='input' value='${s.lt1}'></label><label>LT2 (puls) <input id='lt2i' type='number' class='input' value='${s.lt2}'></label><label>Overgangspause (s) <input id='tpause' type='number' class='input' value='${s.transitionPauseSec|0}'></label></div><h3>Skjerm- og lydinnstillinger</h3><div class='flex' style='flex-wrap:wrap;gap:1rem'><label>Tema <select id='theme' class='input'><option value='dark' ${ui.theme==='dark'?'selected':''}>Mørkt</option><option value='light' ${ui.theme==='light'?'selected':''}>Lyst</option></select></label><label><input type='checkbox' id='sounds' ${ui.sounds?'checked':''}/> Lyder på</label></div><h3>Mølle</h3><div class='flex' style='flex-wrap:wrap;gap:1rem'><label><input type='checkbox' id='forceMan' ${s.treadmill.forceManualIncline?'checked':''}/> Tving manuell stigning</label><label><input type='checkbox' id='translator' ${s.treadmill.translator?'checked':''}/> Prøv QZ‑stil oversettelse (eksperimentell)</label></div><div class='footer-actions'><button class='btn' id='save'>Lagre</button></div></section>`; document.getElementById('save').onclick=()=>{ s.age=+$('#age').value; s.weight=+$('#weight').value; s.vo2max=+$('#vo2').value; s.hrMax=+$('#hrMax').value; s.lt1=+$('#lt1i').value; s.lt2=+$('#lt2i').value; s.transitionPauseSec=+$('#tpause').value; Store.data.ui.theme=$('#theme').value; Store.data.ui.sounds=document.getElementById('sounds').checked; s.treadmill.forceManualIncline=document.getElementById('forceMan').checked; s.treadmill.translator=document.getElementById('translator').checked; Store.save(); document.documentElement.setAttribute('data-theme', Store.data.ui.theme); toast('Lagret'); }; }
